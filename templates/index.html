<!DOCTYPE html>
<html>
<head>
	<title>Stryd Task</title>
</head>
<body>
	<h1>Search Comments</h1>
	<p>
		Data from 
		<a href="http://www.dcrainmaker.com/2015/01/stryd-first-running.html">dcrainmaker blog</a>.
	</p>
	<form data-search="form">
		<input type='text' name='terms' data-search='input'>
		<button type='submit'>Search</button>	
	</form>
	<script type="text/javascript" src='//cdnjs.cloudflare.com/ajax/libs/jquery/2.1.3/jquery.min.js'></script>
	<script>
		var form = document.querySelector('[data-search="form"]');
		form.addEventListener('submit', function (e) {
			e.preventDefault();
			console.log('Submit triggered');
			console.log('Search terms:', form.terms)
			var req = $.ajax({
				method: 'POST',
				url: '/search',
				data: JSON.stringify({
					terms: form.terms.value
				}),
				dataType: 'json',
				contentType: 'application/json; charset=UTF-8'
			});
			req.done(function () {

			});
		});
	</script>
</body>
</html>